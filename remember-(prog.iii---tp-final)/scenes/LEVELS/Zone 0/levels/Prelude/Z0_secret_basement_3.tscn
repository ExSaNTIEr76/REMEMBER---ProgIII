[gd_scene load_steps=13 format=4 uid="uid://cqrm08s8pm7k6"]

[ext_resource type="Script" uid="uid://da33mdxfo35ay" path="res://scenes/LEVELS/levelScripts/level.gd" id="1_xu3ej"]
[ext_resource type="AudioStream" uid="uid://bfsekuy7snno5" path="res://audio/ambient/ambSfx_Deep in a lost mind.ogg" id="2_lte37"]
[ext_resource type="TileSet" uid="uid://bbxgpr6k085rt" path="res://scenes/LEVELS/Zone 0/sprites/Zone 0 TileMap.tres" id="3_h7iew"]
[ext_resource type="Script" uid="uid://nmgti4nnwjet" path="res://addons/thoth/thoth_serializable.gd" id="3_lte37"]
[ext_resource type="Script" uid="uid://bcweryyykqkml" path="res://scenes/LEVELS/levelScripts/level_tile_map_layer.gd" id="4_4jp2k"]
[ext_resource type="PackedScene" uid="uid://3udjc4wr2oqo" path="res://scenes/ENVIOREMENT/Floating Boxes/floating_box.tscn" id="5_1x7g3"]
[ext_resource type="PackedScene" uid="uid://bgtxqgjgfvwg5" path="res://scenes/CHARACTERS/Puppet/player_spawn.tscn" id="6_26mgr"]
[ext_resource type="PackedScene" uid="uid://cbhl4re0el2sc" path="res://scenes/LEVELS/levelScripts/LevelTransition.tscn" id="8_wrdis"]
[ext_resource type="PackedScene" uid="uid://bjo1vifofl7f2" path="res://dialogues/Actionable.tscn" id="9_6sxpw"]
[ext_resource type="Resource" uid="uid://dg48fr6p71bs2" path="res://dialogues/ZONE 0/Zone0_Prelude.dialogue" id="10_ryhky"]
[ext_resource type="Script" uid="uid://b146xa42md0k3" path="res://addons/thoth/thoth_gamestate.gd" id="11_h7iew"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_7ksh2"]
size = Vector2(84, 91)

[node name="Secret Basement 3" type="Node2D" groups=["Persist"]]
script = ExtResource("1_xu3ej")
level_name = "Secret Basement 3"
zone_name = "Zone 0"
zone_tag = "Z0_secret_basement"
transition_tag = "Z0_int"
ambient = ExtResource("2_lte37")
ambient_volume = -23.0
ambient_pitch = 0.7

[node name="Y-SORT" type="Node2D" parent="." groups=["Y-SORT"]]
unique_name_in_owner = true
y_sort_enabled = true

[node name="Serializable" type="Node" parent="Y-SORT"]
script = ExtResource("3_lte37")
transform = false
metadata/_custom_type_script = "uid://nmgti4nnwjet"

[node name="Layer 1 (Building)" type="TileMapLayer" parent="Y-SORT"]
z_index = -4
y_sort_enabled = true
use_parent_material = true
tile_map_data = PackedByteArray("AAAJAAIAAQAOAA4AAAAJAAMAAQAOAA8AAAAJAAQAAQAOABAAAAAJAAUAAQABAA4AAAAKAAIAAQAOAA4AAAAKAAMAAQAOAA8AAAAKAAQAAQAOABAAAAAKAAUAAQABAA4AAAALAAIAAQAOAA4AAAALAAMAAQAOAA8AAAALAAQAAQAOABAAAAALAAUAAQABAA4AAAAMAAIAAQAOAA4AAAAMAAMAAQAOAA8AAAAMAAQAAQAOABAAAAAMAAUAAQABAA4AAAANAAIAAQAOAA4AAAANAAMAAQAOAA8AAAANAAQAAQAOABAAAAANAAUAAQABAA4AAAAOAAIAAQAOAA4AAAAOAAMAAQASAA8AAAAOAAQAAQAPABAAAAAOAAUAAQACAA4AAAAJAAYAAQABAA8AAAAJAAcAAQABABAAAAAKAAYAAQABAA8AAAAKAAcAAQAIAA8AAAALAAYAAQABAA8AAAALAAcAAQABABAAAAAMAAYAAQABAA8AAAAMAAcAAQABABAAAAANAAYAAQABAA8AAAANAAcAAQABABAAAAAOAAYAAQACAA8AAAAOAAcAAQACABAAAAAFAAIAAQANAA4AAAAFAAMAAQANAA8AAAAFAAQAAQANABAAAAAFAAUAAQAAAA4AAAAFAAYAAQAAAA8AAAAFAAcAAQAAABAAAAAGAAIAAQAOAA4AAAAGAAMAAQAOAA8AAAAGAAQAAQAOABAAAAAGAAUAAQABAA4AAAAGAAYAAQABAA8AAAAGAAcAAQABABAAAAAHAAIAAQAOAA4AAAAHAAMAAQAOAA8AAAAHAAQAAQAOABAAAAAHAAUAAQABAA4AAAAHAAYAAQABAA8AAAAHAAcAAQABABAAAAAIAAIAAQAOAA4AAAAIAAMAAQAOAA8AAAAIAAQAAQAOABAAAAAIAAUAAQABAA4AAAAIAAYAAQABAA8AAAAIAAcAAQABABAAAAAKAAgAAQADABAAAAA=")
tile_set = ExtResource("3_h7iew")

[node name="Layer 2 (Entrances)" type="TileMapLayer" parent="Y-SORT"]
visible = false
z_index = -3
y_sort_enabled = true
use_parent_material = true
tile_map_data = PackedByteArray("AAANAAYAAgACAAsAAAAGAAYAAgAAAAsAAAA=")
tile_set = ExtResource("3_h7iew")

[node name="Layer 3 (Cracks)" type="TileMapLayer" parent="Y-SORT"]
z_index = -2
y_sort_enabled = true
use_parent_material = true
tile_map_data = PackedByteArray("AAAMAAQAAQAOABUAAAANAAUAAQABABMAAAAOAAMAAQAOABQAAAAKAAQAAQAOABUAAAAKAAcAAQABABUAAAALAAIAAQAOABMAAAAMAAMAAQAOABQAAAAMAAYAAQABABQAAAAMAAcAAQABABUAAAAOAAQAAQAOABUAAAAOAAUAAQABABMAAAAOAAgAAQACABUAAAAFAAIAAQANABMAAAAHAAIAAQAOABMAAAAHAAQAAQAOABUAAAAHAAcAAQABABUAAAAIAAMAAQAOABQAAAAIAAYAAQABABQAAAAJAAIAAQAOABMAAAAJAAUAAQABABMAAAAJAAcAAQABABUAAAAFAAQAAQANABUAAAAFAAYAAQABABQAAAAFAAUAAQAAABMAAAAGAAMAAQARABQAAAALAAQAAQASABQAAAA=")
tile_set = ExtResource("3_h7iew")

[node name="Layer 4 (Path)" type="TileMapLayer" parent="Y-SORT"]
z_index = -1
y_sort_enabled = true
use_parent_material = true
tile_map_data = PackedByteArray("AAAJAAYAAQAOAAMAAAAKAAYAAQAOAAMAAAALAAYAAQAOAAMAAAAMAAYAAQAPAAMAAAAIAAYAAQAOAAMAAAAHAAYAAQANAAMAAAA=")
tile_set = ExtResource("3_h7iew")

[node name="Layer 5 (Background)" type="TileMapLayer" parent="Y-SORT"]
y_sort_enabled = true
texture_repeat = 3
use_parent_material = true
tile_map_data = PackedByteArray("AAAIAAkAAgAWAAcAAwAIAAoAAgAWAAcAAwAJAAkAAgAWAAcAAwAJAAoAAgAWAAcAAwAKAAkAAgAWAAcAAwAKAAoAAgAWAAcAAwAHAAoAAgAWAAcAAwAAAAkAAgAWAAcAAwAAAAoAAgAWAAcAAwABAAkAAgAWAAcAAwABAAoAAgAWAAcAAwACAAkAAgAWAAcAAwACAAoAAgAWAAcAAwADAAoAAgAWAAcAAwAQAAkAAgAWAAcAAwAQAAoAAgAWAAcAAwALAAkAAgAWAAcAAwALAAoAAgAWAAcAAwAMAAkAAgAWAAcAAwAMAAoAAgAWAAcAAwANAAkAAgAWAAcAAwANAAoAAgAWAAcAAwAOAAkAAgAWAAcAAwAOAAoAAgAWAAcAAwAPAAkAAgAWAAcAAwAPAAoAAgAWAAcAAwARAAkAAgAWAAcAAwARAAoAAgAWAAcAAwAEAAoAAgAWAAcAAwASAAkAAgAWAAcAAwASAAoAAgAWAAcAAwATAAkAAgAWAAcAAwATAAoAAgAWAAcAAwAEAAkAAgAWAAcAAwAFAAkAAgAWAAcAAwAFAAoAAgAWAAcAAwAGAAkAAgAWAAcAAwAGAAoAAgAWAAcAAwAHAAkAAgAWAAcAAwAAAAIAAgAWAAcAAwAAAAMAAgAWAAcAAwAAAAQAAgAWAAcAAwAAAAUAAgAWAAcAAwAAAAYAAgAWAAcAAwAAAAcAAgAWAAcAAwAAAAgAAgAWAAcAAwABAAIAAgAWAAcAAwABAAMAAgAWAAcAAwABAAQAAgAWAAcAAwABAAUAAgAWAAcAAwABAAYAAgAWAAcAAwABAAcAAgAWAAcAAwABAAgAAgAWAAcAAwACAAIAAgAWAAcAAwACAAMAAgAWAAcAAwACAAQAAgAWAAcAAwACAAUAAgAWAAcAAwACAAYAAgAWAAcAAwACAAcAAgAWAAcAAwACAAgAAgAWAAcAAwAEAAgAAgAWAAcAAwAFAAgAAgAWAAcAAwAGAAgAAgAWAAcAAwAHAAgAAgAWAAcAAwAIAAgAAgAWAAcAAwAJAAgAAgAWAAcAAwALAAgAAgAWAAcAAwAMAAgAAgAWAAcAAwANAAgAAgAWAAcAAwAOAAgAAgAWAAcAAwAPAAIAAgAWAAcAAwAPAAMAAgAWAAcAAwAPAAQAAgAWAAcAAwAPAAUAAgAWAAcAAwAPAAYAAgAWAAcAAwAPAAcAAgAWAAcAAwAPAAgAAgAWAAcAAwAQAAIAAgAWAAcAAwAQAAMAAgAWAAcAAwAQAAQAAgAWAAcAAwAQAAUAAgAWAAcAAwAQAAYAAgAWAAcAAwAQAAcAAgAWAAcAAwAQAAgAAgAWAAcAAwARAAIAAgAWAAcAAwARAAMAAgAWAAcAAwARAAQAAgAWAAcAAwARAAUAAgAWAAcAAwARAAYAAgAWAAcAAwARAAcAAgAWAAcAAwARAAgAAgAWAAcAAwASAAIAAgAWAAcAAwASAAMAAgAWAAcAAwASAAQAAgAWAAcAAwASAAUAAgAWAAcAAwASAAYAAgAWAAcAAwASAAcAAgAWAAcAAwASAAgAAgAWAAcAAwATAAIAAgAWAAcAAwATAAMAAgAWAAcAAwATAAQAAgAWAAcAAwATAAUAAgAWAAcAAwATAAYAAgAWAAcAAwATAAcAAgAWAAcAAwATAAgAAgAWAAcAAwAAAAAAAgAWAAcAAwAAAAEAAgAWAAcAAwABAAAAAgAWAAcAAwABAAEAAgAWAAcAAwACAAAAAgAWAAcAAwACAAEAAgAWAAcAAwADAAAAAgAWAAcAAwADAAEAAgAWAAcAAwAEAAAAAgAWAAcAAwAEAAEAAgAWAAcAAwAFAAAAAgAWAAcAAwAFAAEAAgAWAAcAAwAGAAAAAgAWAAcAAwAGAAEAAgAWAAcAAwAHAAAAAgAWAAcAAwAHAAEAAgAWAAcAAwAIAAAAAgAWAAcAAwAIAAEAAgAWAAcAAwAJAAAAAgAWAAcAAwAJAAEAAgAWAAcAAwAKAAAAAgAWAAcAAwAKAAEAAgAWAAcAAwALAAAAAgAWAAcAAwALAAEAAgAWAAcAAwAMAAAAAgAWAAcAAwAMAAEAAgAWAAcAAwANAAAAAgAWAAcAAwANAAEAAgAWAAcAAwAOAAAAAgAWAAcAAwAOAAEAAgAWAAcAAwAPAAAAAgAWAAcAAwAPAAEAAgAWAAcAAwAQAAAAAgAWAAcAAwAQAAEAAgAWAAcAAwARAAAAAgAWAAcAAwARAAEAAgAWAAcAAwASAAAAAgAWAAcAAwASAAEAAgAWAAcAAwATAAAAAgAWAAcAAwATAAEAAgAWAAcAAwADAAIAAgAWAAcAAwADAAMAAgAWAAcAAwADAAQAAgAWAAcAAwADAAUAAgAWAAcAAwADAAYAAgAWAAcAAwADAAcAAgAWAAcAAwADAAgAAgAWAAcAAwADAAkAAgAWAAcAAwAEAAIAAgAWAAcAAwAEAAMAAgAWAAcAAwAEAAQAAgAWAAcAAwAEAAUAAgAWAAcAAwAEAAcAAgAWAAcAAwAEAAYAAgAWAAcAAwA=")
tile_set = ExtResource("3_h7iew")
script = ExtResource("4_4jp2k")

[node name="Layer 6 (Lights)" type="TileMapLayer" parent="Y-SORT"]
self_modulate = Color(0.85, 0.85, 0.85, 1)
y_sort_enabled = true
tile_set = ExtResource("3_h7iew")

[node name="Layer 7 (Decorations)" type="TileMapLayer" parent="Y-SORT"]
y_sort_enabled = true
use_parent_material = true
tile_map_data = PackedByteArray("AAAHAAMAAgAHAAMAAAAMAAMAAgAHAAMAAAAKAAgAAQAAABsAAAA=")
tile_set = ExtResource("3_h7iew")

[node name="Layer 8 (Decorations 2)" type="TileMapLayer" parent="Y-SORT"]
y_sort_enabled = true
use_parent_material = true
tile_map_data = PackedByteArray("AAAOAAIAAgAPABEAAAAHAAIAAgANABEAAAAIAAIAAgANABEAAAAJAAIAAgANABEAAAAKAAIAAgANABEAAAALAAIAAgANABEAAAAMAAIAAgANABEAAAANAAIAAgANABEAAAAOAAMAAgAPABIAAAAOAAQAAgAPABMAAAAFAAIAAgAMABEAAAAGAAIAAgANABEAAAAFAAMAAgAMABIAAAAFAAQAAgAMABMAAAA=")
tile_set = ExtResource("3_h7iew")

[node name="Layer 9 (Limit)" type="TileMapLayer" parent="Y-SORT"]
light_mask = 0
z_index = 2
y_sort_enabled = true
use_parent_material = true
tile_map_data = PackedByteArray("AAAOAAcAAQACABgAAAAOAAYAAQACABcAAAAOAAUAAQACABcAAAAOAAQAAQACABcAAAAOAAMAAQACABcAAAAOAAIAAQACABYAAAANAAcAAQABABgAAAANAAYAAQABABcAAAANAAUAAQABABcAAAANAAQAAQABABcAAAANAAMAAQABABcAAAANAAIAAQABABYAAAAMAAcAAQABABgAAAAMAAYAAQABABcAAAAMAAUAAQABABcAAAAMAAQAAQABABcAAAAMAAMAAQABABcAAAAMAAIAAQABABYAAAALAAcAAQABABgAAAALAAYAAQABABcAAAALAAUAAQABABcAAAALAAQAAQABABcAAAALAAMAAQABABcAAAALAAIAAQABABYAAAAKAAcAAQAIABcAAAAKAAYAAQABABcAAAAKAAUAAQABABcAAAAKAAQAAQABABcAAAAKAAMAAQABABcAAAAKAAIAAQABABYAAAAJAAcAAQABABgAAAAJAAYAAQABABcAAAAJAAUAAQABABcAAAAJAAQAAQABABcAAAAJAAMAAQABABcAAAAJAAIAAQABABYAAAAIAAcAAQABABgAAAAIAAYAAQABABcAAAAIAAUAAQABABcAAAAIAAQAAQABABcAAAAIAAMAAQABABcAAAAIAAIAAQABABYAAAAHAAcAAQABABgAAAAHAAYAAQABABcAAAAHAAUAAQABABcAAAAHAAQAAQABABcAAAAHAAMAAQABABcAAAAHAAIAAQABABYAAAAGAAcAAQABABgAAAAGAAYAAQABABcAAAAGAAUAAQABABcAAAAGAAQAAQABABcAAAAGAAMAAQABABcAAAAGAAIAAQABABYAAAAFAAcAAQAAABgAAAAFAAYAAQAAABcAAAAFAAUAAQAAABcAAAAFAAQAAQAAABcAAAAFAAMAAQAAABcAAAAFAAIAAQAAABYAAAAKAAgAAQAAABoAAAA=")
tile_set = ExtResource("3_h7iew")

[node name="FloatingBox" parent="Y-SORT" instance=ExtResource("5_1x7g3")]
position = Vector2(432, 202)

[node name="PlayerSpawn" parent="Y-SORT" instance=ExtResource("6_26mgr")]
position = Vector2(242, 211)

[node name="ACTIONABLES" type="Node2D" parent="."]

[node name="Ladders Lost" parent="ACTIONABLES" instance=ExtResource("9_6sxpw")]
position = Vector2(225, 196)
collision_mask = 2
dialogue_resource = ExtResource("10_ryhky")
dialogue_start = "laddersLost"
auto_trigger = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="ACTIONABLES/Ladders Lost"]
position = Vector2(24, 8.5)
shape = SubResource("RectangleShape2D_7ksh2")
debug_color = Color(0, 0.866667, 1, 0.419608)

[node name="DOORS" type="Node2D" parent="."]

[node name="SecretBasement3_a" parent="DOORS" instance=ExtResource("8_wrdis")]
position = Vector2(224, 208)
collision_mask = 0
level = "uid://d06veesul4kxp"
target_transition_area = "ForgottenGrottoes1"
size = 1
initial_camera_zone = -1

[node name="SecretBasement3_b" parent="DOORS" instance=ExtResource("8_wrdis")]
position = Vector2(336, 272)
level = "uid://d3rmgtrjcae65"
target_transition_area = "Basement2_b"
size = 1
side = 3

[node name="ILUMINATION" type="Node2D" parent="."]

[node name="CanvasModulate" type="CanvasModulate" parent="ILUMINATION"]
light_mask = 3
visibility_layer = 3
color = Color(0.432113, 0.312678, 0.407115, 1)

[node name="Serializable" type="Node" parent="."]
script = ExtResource("3_lte37")
metadata/_custom_type_script = "uid://nmgti4nnwjet"

[node name="Savestate" type="Node" parent="."]
script = ExtResource("11_h7iew")
metadata/_custom_type_script = "uid://b146xa42md0k3"
