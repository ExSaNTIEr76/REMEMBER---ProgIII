[gd_scene format=4 uid="uid://7361f8nlptwl"]

[ext_resource type="Script" uid="uid://da33mdxfo35ay" path="res://scenes/LEVELS/levelScripts/level.gd" id="1_l7jao"]
[ext_resource type="AudioStream" uid="uid://c2c1437773n7n" path="res://audio/music/Distant Waves.ogg" id="2_yl5fp"]
[ext_resource type="TileSet" uid="uid://bbxgpr6k085rt" path="res://scenes/LEVELS/Zone 0/sprites/Zone 0 TileMap.tres" id="3_dtluc"]
[ext_resource type="Script" uid="uid://bcweryyykqkml" path="res://scenes/LEVELS/levelScripts/level_tile_map_layer.gd" id="4_jx4k4"]
[ext_resource type="Script" uid="uid://dlae4fxyvspys" path="res://scenes/LEVELS/levelScripts/footstep_tilemap.gd" id="5_ch6fb"]
[ext_resource type="PackedScene" uid="uid://bgtxqgjgfvwg5" path="res://scenes/CHARACTERS/Puppet/player_spawn.tscn" id="5_jc4lf"]
[ext_resource type="PackedScene" uid="uid://cbhl4re0el2sc" path="res://scenes/LEVELS/levelScripts/LevelTransition.tscn" id="6_ch6fb"]
[ext_resource type="Script" uid="uid://nmgti4nnwjet" path="res://addons/thoth/thoth_serializable.gd" id="6_jc4lf"]
[ext_resource type="Shader" uid="uid://3np6bvvo3dn0" path="res://effects/Light/light_aura.gdshader" id="7_dtluc"]
[ext_resource type="Texture2D" uid="uid://b74k65q57n664" path="res://effects/Gradients/Light_Gradient.tres" id="8_jx4k4"]
[ext_resource type="Script" uid="uid://b146xa42md0k3" path="res://addons/thoth/thoth_gamestate.gd" id="10_ch6fb"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_jc4lf"]
shader = ExtResource("7_dtluc")
shader_parameter/intensity = 0.5

[node name="Z0_Ruins_0" type="Node2D" unique_id=40126207 groups=["Persist"]]
script = ExtResource("1_l7jao")
level_name = "Ruins F0"
zone_name = "Zone 0"
zone_tag = "Z0_int"
transition_tag = "Z0_int"
music = ExtResource("2_yl5fp")
music_volume = -25.0

[node name="YSORT" type="Node2D" parent="." unique_id=1500685058 groups=["Y-SORT"]]
unique_name_in_owner = true
y_sort_enabled = true

[node name="Serializable" type="Node" parent="YSORT" unique_id=1168820214]
script = ExtResource("6_jc4lf")
transform = false
metadata/_custom_type_script = "uid://nmgti4nnwjet"

[node name="Layer 1 (Building)" type="TileMapLayer" parent="YSORT" unique_id=462508549]
z_index = -4
y_sort_enabled = true
use_parent_material = true
tile_map_data = PackedByteArray("AAAIAAMAAQANAA8AAAAIAAQAAQANABAAAAAIAAUAAQAAAA4AAAAIAAYAAQAAAA8AAAAIAAcAAQAAABAAAAAJAAMAAQAOAA8AAAAJAAQAAQAOABAAAAAJAAUAAQABAA4AAAAJAAYAAQABAA8AAAAJAAcAAQAIAA8AAAAJAAgAAQADABAAAAAKAAMAAQAPAA8AAAAKAAQAAQAPABAAAAAKAAUAAQACAA4AAAAKAAYAAQACAA8AAAAKAAcAAQACABAAAAAIAAIAAQANAA4AAAAJAAIAAQAOAA4AAAAKAAIAAQAPAA4AAAA=")
tile_set = ExtResource("3_dtluc")
script = ExtResource("5_ch6fb")

[node name="Layer 2 (Entrances)" type="TileMapLayer" parent="YSORT" unique_id=2108624761]
z_index = -3
y_sort_enabled = true
use_parent_material = true
tile_map_data = PackedByteArray("AAAJAAYAAgABAAsAAAA=")
tile_set = ExtResource("3_dtluc")

[node name="Layer 3 (Cracks)" type="TileMapLayer" parent="YSORT" unique_id=1676002441]
z_index = -2
y_sort_enabled = true
use_parent_material = true
tile_map_data = PackedByteArray("AAAKAAUAAQABABMAAAAIAAIAAQANABMAAAAIAAcAAQAAABUAAAAJAAIAAQAOABMAAAAJAAUAAQABABMAAAAKAAQAAQAPABUAAAAJAAgAAQABABUAAAA=")
tile_set = ExtResource("3_dtluc")

[node name="Layer 4 (Lights)" type="TileMapLayer" parent="YSORT" unique_id=1969633502]
z_index = -1
y_sort_enabled = true
use_parent_material = true
tile_map_data = PackedByteArray("AAAJAAMAAgAHAAMAAAA=")
tile_set = ExtResource("3_dtluc")

[node name="Layer 5 (Background)" type="TileMapLayer" parent="YSORT" unique_id=1931023281]
z_index = 5
y_sort_enabled = true
texture_repeat = 3
use_parent_material = true
tile_map_data = PackedByteArray("AAAAAAAAAgAWAAcAAwABAAAAAgAWAAcAAwACAAAAAgAWAAcAAwADAAAAAgAWAAcAAwAEAAAAAgAWAAcAAwAFAAAAAgAWAAcAAwAGAAAAAgAWAAcAAwAHAAAAAgAWAAcAAwAIAAAAAgAWAAcAAAAJAAAAAgAWAAcAAAAKAAAAAgAWAAcAAAALAAAAAgAWAAcAAAAMAAAAAgAWAAcAAAANAAAAAgAWAAcAAAAOAAAAAgAWAAcAAAAPAAAAAgAWAAcAAAAQAAAAAgAWAAcAAAARAAAAAgAWAAcAAwASAAAAAgAWAAcAAwATAAAAAgAWAAcAAwATAAEAAgAWAAcAAwATAAIAAgAWAAcAAwATAAMAAgAWAAcAAwATAAQAAgAWAAcAAwATAAUAAgAWAAcAAwATAAYAAgAWAAcAAwATAAcAAgAWAAcAAwATAAgAAgAWAAcAAwATAAkAAgAWAAcAAwATAAoAAgAWAAcAAwAAAAoAAgAWAAcAAwABAAoAAgAWAAcAAwACAAoAAgAWAAcAAwADAAoAAgAWAAcAAwAEAAoAAgAWAAcAAwAFAAoAAgAWAAcAAwAGAAoAAgAWAAcAAwAHAAoAAgAWAAcAAwAIAAoAAgAWAAcAAwAJAAoAAgAWAAcAAwAKAAoAAgAWAAcAAwALAAoAAgAWAAcAAAAMAAoAAgAWAAcAAAANAAoAAgAWAAcAAAAOAAoAAgAWAAcAAAAPAAoAAgAWAAcAAAAQAAoAAgAWAAcAAAARAAoAAgAWAAcAAwASAAoAAgAWAAcAAwAAAAEAAgAWAAcAAwAAAAIAAgAWAAcAAwAAAAMAAgAWAAcAAwAAAAQAAgAWAAcAAwAAAAUAAgAWAAcAAwAAAAYAAgAWAAcAAwAAAAcAAgAWAAcAAwAAAAgAAgAWAAcAAwAAAAkAAgAWAAcAAwABAAEAAgAWAAcAAAABAAIAAgAWAAcAAAABAAMAAgAWAAcAAAABAAQAAgAWAAcAAAABAAUAAgAWAAcAAAABAAYAAgAWAAcAAAABAAcAAgAWAAcAAAABAAgAAgAWAAcAAAABAAkAAgAWAAcAAwACAAEAAgAWAAcAAAACAAIAAgAWAAcAAAACAAMAAgAWAAcAAAACAAQAAgAWAAcAAAACAAUAAgAWAAcAAAACAAYAAgAWAAcAAAACAAcAAgAWAAcAAAACAAgAAgAWAAcAAAACAAkAAgAWAAcAAwARAAkAAgAWAAcAAwASAAkAAgAWAAcAAwARAAEAAgAWAAcAAwARAAIAAgAWAAcAAwARAAMAAgAWAAcAAwARAAQAAgAWAAcAAwARAAUAAgAWAAcAAwARAAYAAgAWAAcAAwARAAcAAgAWAAcAAwARAAgAAgAWAAcAAwASAAEAAgAWAAcAAwASAAIAAgAWAAcAAwASAAMAAgAWAAcAAwASAAQAAgAWAAcAAwASAAUAAgAWAAcAAwASAAYAAgAWAAcAAwASAAcAAgAWAAcAAwASAAgAAgAWAAcAAwADAAEAAgAWAAcAAAADAAIAAgAWAAcAAAADAAMAAgAWAAcAAAADAAQAAgAWAAcAAAADAAUAAgAWAAcAAAADAAYAAgAWAAcAAAADAAcAAgAWAAcAAAADAAgAAgAWAAcAAAAEAAEAAgAWAAcAAAAEAAIAAgAWAAcAAAAEAAMAAgAWAAcAAAAEAAQAAgAWAAcAAAAEAAUAAgAWAAcAAAAEAAYAAgAWAAcAAAAEAAcAAgAWAAcAAAAEAAgAAgAWAAcAAAAFAAEAAgAWAAcAAAAFAAIAAgAWAAcAAAAFAAMAAgAWAAcAAAAFAAQAAgAWAAcAAAAFAAUAAgAWAAcAAAAFAAYAAgAWAAcAAAAFAAcAAgAWAAcAAAAFAAgAAgAWAAcAAAAGAAEAAgAWAAcAAAAGAAIAAgAWAAcAAAAGAAMAAgAWAAcAAAAGAAQAAgAWAAcAAAAGAAUAAgAWAAcAAAAGAAYAAgAWAAcAAAAGAAcAAgAWAAcAAAAGAAgAAgAWAAcAAAAHAAEAAgAWAAcAAAADAAkAAgAWAAcAAAAEAAkAAgAWAAcAAAAFAAkAAgAWAAcAAAAGAAkAAgAWAAcAAAAIAAEAAgAWAAcAAAAJAAEAAgAWAAcAAAAKAAEAAgAWAAcAAAALAAEAAgAWAAcAAAAMAAEAAgAWAAcAAAAMAAIAAgAWAAcAAAANAAEAAgAWAAcAAAANAAIAAgAWAAcAAAAOAAEAAgAWAAcAAAAOAAIAAgAWAAcAAAAPAAEAAgAWAAcAAAAPAAIAAgAWAAcAAAAQAAEAAgAWAAcAAAAQAAIAAgAWAAcAAAAMAAMAAgAWAAcAAAAMAAQAAgAWAAcAAAAMAAUAAgAWAAcAAAAMAAYAAgAWAAcAAAAMAAcAAgAWAAcAAAAMAAgAAgAWAAcAAAAMAAkAAgAWAAcAAAANAAMAAgAWAAcAAAANAAQAAgAWAAcAAAANAAUAAgAWAAcAAAANAAYAAgAWAAcAAAANAAcAAgAWAAcAAAANAAgAAgAWAAcAAAANAAkAAgAWAAcAAAAOAAMAAgAWAAcAAAAOAAQAAgAWAAcAAAAOAAUAAgAWAAcAAAAOAAYAAgAWAAcAAAAOAAcAAgAWAAcAAAAOAAgAAgAWAAcAAAAOAAkAAgAWAAcAAAAPAAMAAgAWAAcAAAAPAAQAAgAWAAcAAAAPAAUAAgAWAAcAAAAPAAYAAgAWAAcAAAAPAAcAAgAWAAcAAAAPAAgAAgAWAAcAAAAPAAkAAgAWAAcAAAAQAAMAAgAWAAcAAAAQAAQAAgAWAAcAAAAQAAUAAgAWAAcAAAAQAAYAAgAWAAcAAAAQAAcAAgAWAAcAAAAQAAgAAgAWAAcAAAAQAAkAAgAWAAcAAAAHAAIAAgAWAAcAAAAHAAMAAgAWAAcAAAAHAAQAAgAWAAcAAAAHAAUAAgAWAAcAAAAHAAYAAgAWAAcAAAAHAAcAAgAWAAcAAAAHAAgAAgAWAAcAAAALAAIAAgAWAAcAAAALAAMAAgAWAAcAAAALAAQAAgAWAAcAAAALAAUAAgAWAAcAAAALAAYAAgAWAAcAAAALAAcAAgAWAAcAAAALAAgAAgAWAAcAAAAIAAgAAgAWAAcAAAAKAAgAAgAWAAcAAAAHAAkAAgAWAAcAAAAIAAkAAgAWAAcAAAAJAAkAAgAWAAcAAAAKAAkAAgAWAAcAAAALAAkAAgAWAAcAAAA=")
tile_set = ExtResource("3_dtluc")
script = ExtResource("4_jx4k4")

[node name="Layer 6 (Numbers)" type="TileMapLayer" parent="YSORT" unique_id=1690262704]
y_sort_enabled = true
tile_map_data = PackedByteArray("AAAIAAIAAAADAAIAAAAJAAIAAAAFAAEAAAAKAAIAAAADAAIAAAAIAAMAAAAFAAIAAAAIAAQAAAADAAIAAAAKAAQAAAADAAIAAAAJAAQAAAAIAAAAAAAKAAMAAAAGAAEAAAA=")
tile_set = ExtResource("3_dtluc")

[node name="Layer 6 (Decorations)" type="TileMapLayer" parent="YSORT" unique_id=558182812]
y_sort_enabled = true
use_parent_material = true
tile_map_data = PackedByteArray("AAAJAAgAAQAAABwAAAA=")
tile_set = ExtResource("3_dtluc")

[node name="Layer 7 (Limit)" type="TileMapLayer" parent="YSORT" unique_id=152274461]
z_index = 5
y_sort_enabled = true
use_parent_material = true
tile_map_data = PackedByteArray("AAAIAAMAAQAAABcAAAAIAAQAAQAAABcAAAAIAAUAAQAAABcAAAAIAAYAAQAAABcAAAAIAAcAAQAAABgAAAAJAAMAAQABABcAAAAJAAQAAQABABcAAAAJAAUAAQABABcAAAAJAAYAAQABABcAAAAJAAcAAQAIABcAAAAJAAgAAQAAABoAAAAKAAMAAQACABcAAAAKAAQAAQACABcAAAAKAAUAAQACABcAAAAKAAYAAQACABcAAAAKAAcAAQACABgAAAAIAAIAAQAAABYAAAAJAAIAAQABABYAAAAKAAIAAQACABYAAAA=")
tile_set = ExtResource("3_dtluc")

[node name="PlayerSpawn" parent="YSORT" unique_id=508694846 instance=ExtResource("5_jc4lf")]
position = Vector2(304, 250)

[node name="DOORS" type="Node2D" parent="." unique_id=1150556181]

[node name="RuinsIn0_a" parent="DOORS" unique_id=757571391 instance=ExtResource("6_ch6fb")]
position = Vector2(304, 272)
level = "uid://b56gj8d0lmtk0"
target_transition_area = "Ruins1"
center_player = true
size = 1
side = 3
initial_camera_zone = 2

[node name="RuinsIn0_b" parent="DOORS" unique_id=1947320388 instance=ExtResource("6_ch6fb")]
position = Vector2(288, 208)
level = "uid://bx5v12k51v541"
target_transition_area = "Basement1_a"
center_player = true
size = 1
side = 1

[node name="ILUMINATION" type="Node2D" parent="." unique_id=1196548178]

[node name="CanvasModulate" type="CanvasModulate" parent="ILUMINATION" unique_id=1197030723]
light_mask = 3
visibility_layer = 3
color = Color(0.776072, 0.776072, 0.776072, 1)

[node name="ExtLight" type="Sprite2D" parent="ILUMINATION" unique_id=257465779]
light_mask = 512
z_index = 1
material = SubResource("ShaderMaterial_jc4lf")
position = Vector2(304, 240.125)
scale = Vector2(0.555664, 0.641602)
texture = ExtResource("8_jx4k4")
metadata/_edit_group_ = true

[node name="Serializable" type="Node" parent="." unique_id=1525961739]
script = ExtResource("6_jc4lf")
transform = false
metadata/_custom_type_script = "uid://nmgti4nnwjet"

[node name="Savestate" type="Node" parent="." unique_id=523487421]
script = ExtResource("10_ch6fb")
metadata/_custom_type_script = "uid://b146xa42md0k3"
