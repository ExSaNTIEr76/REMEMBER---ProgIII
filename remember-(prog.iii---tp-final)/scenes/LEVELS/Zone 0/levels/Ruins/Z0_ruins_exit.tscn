[gd_scene format=4 uid="uid://8m8j3mi0thdf"]

[ext_resource type="Script" uid="uid://da33mdxfo35ay" path="res://scenes/LEVELS/levelScripts/level.gd" id="1_ki6ka"]
[ext_resource type="AudioStream" uid="uid://bfof7b2jj7213" path="res://audio/music/Relief.ogg" id="2_uonlw"]
[ext_resource type="AudioStream" uid="uid://cnq4siso38ihs" path="res://audio/ambient/ambSfx_Plastic Flowing_1.ogg" id="3_m5mgs"]
[ext_resource type="TileSet" uid="uid://bbxgpr6k085rt" path="res://scenes/LEVELS/Zone 0/sprites/Zone 0 TileMap.tres" id="4_bxm07"]
[ext_resource type="Script" uid="uid://bcweryyykqkml" path="res://scenes/LEVELS/levelScripts/level_tile_map_layer.gd" id="5_miesu"]
[ext_resource type="PackedScene" uid="uid://3udjc4wr2oqo" path="res://scenes/ENVIOREMENT/Floating Boxes/floating_box.tscn" id="6_gaquo"]
[ext_resource type="Script" uid="uid://dlae4fxyvspys" path="res://scenes/LEVELS/levelScripts/footstep_tilemap.gd" id="7_gaquo"]
[ext_resource type="PackedScene" uid="uid://bgtxqgjgfvwg5" path="res://scenes/CHARACTERS/Puppet/player_spawn.tscn" id="7_pfjc3"]
[ext_resource type="PackedScene" uid="uid://cbhl4re0el2sc" path="res://scenes/LEVELS/levelScripts/LevelTransition.tscn" id="8_jrebp"]
[ext_resource type="Script" uid="uid://bas1vdqii0wep" path="res://UI/Camera/camera_manager.gd" id="9_qt17s"]
[ext_resource type="Script" uid="uid://nmgti4nnwjet" path="res://addons/thoth/thoth_serializable.gd" id="12_miesu"]
[ext_resource type="Script" uid="uid://b146xa42md0k3" path="res://addons/thoth/thoth_gamestate.gd" id="13_gaquo"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ecjs2"]
size = Vector2(634.56, 233)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_cqfj1"]
size = Vector2(632, 420)

[node name="RuinsExit" type="Node2D" unique_id=218335952]
script = ExtResource("1_ki6ka")
level_name = "Isla"
zone_name = "Zona 0"
zone_tag = "Z0_ext"
transition_tag = "Z0_ext"
music = ExtResource("2_uonlw")
music_volume = -15.0
ambient = ExtResource("3_m5mgs")
ambient_volume = -20.0
ambient_pitch = 0.8

[node name="YSORT" type="Node2D" parent="." unique_id=1431544017 groups=["Y-SORT"]]
unique_name_in_owner = true
y_sort_enabled = true

[node name="Serializable" type="Node" parent="YSORT" unique_id=552801447]
script = ExtResource("12_miesu")
transform = false
metadata/_custom_type_script = "uid://nmgti4nnwjet"

[node name="Layer 0 (Plastic)" type="TileMapLayer" parent="YSORT" unique_id=1960801393]
z_index = -3
use_parent_material = true
tile_map_data = PackedByteArray("AAAAABEAAgANAAEAAAABABEAAgANAAEAAAACABEAAgANAAEAAAADABEAAgANAAEAAAAEABEAAgANAAEAAAAFABEAAgANAAEAAAAGABEAAgANAAEAAAAHABEAAgANAAEAAAAIABEAAgANAAEAAAAKABEAAgANAAEAAAALABEAAgANAAEAAAAMABEAAgANAAEAAAANABEAAgANAAEAAAAOABEAAgANAAEAAAAPABEAAgANAAEAAAAQABEAAgANAAEAAAARABEAAgANAAEAAAASABEAAgANAAEAAAATABEAAgANAAEAAAAAABIAAgANAAEAAAAAABMAAgANAAEAAAAAABQAAgANAAEAAAABABIAAgANAAEAAAABABMAAgANAAEAAAABABQAAgANAAEAAAACABIAAgANAAEAAAACABMAAgANAAEAAAACABQAAgANAAEAAAADABIAAgANAAEAAAADABMAAgANAAEAAAADABQAAgANAAEAAAAEABIAAgANAAEAAAAEABMAAgANAAEAAAAEABQAAgANAAEAAAAFABIAAgANAAEAAAAFABMAAgANAAEAAAAFABQAAgANAAEAAAAGABIAAgANAAEAAAAGABMAAgANAAEAAAAGABQAAgANAAEAAAAHABIAAgANAAEAAAAHABMAAgANAAEAAAAHABQAAgANAAEAAAAIABIAAgANAAEAAAAIABMAAgANAAEAAAAIABQAAgANAAEAAAAKABIAAgANAAEAAAAKABMAAgANAAEAAAAKABQAAgANAAEAAAALABIAAgANAAEAAAALABMAAgANAAEAAAALABQAAgANAAEAAAAMABIAAgANAAEAAAAMABMAAgANAAEAAAAMABQAAgANAAEAAAANABIAAgANAAEAAAANABMAAgANAAEAAAANABQAAgANAAEAAAAOABIAAgANAAEAAAAOABMAAgANAAEAAAAOABQAAgANAAEAAAAPABIAAgANAAEAAAAPABMAAgANAAEAAAAPABQAAgANAAEAAAAQABIAAgANAAEAAAAQABMAAgANAAEAAAAQABQAAgANAAEAAAARABIAAgANAAEAAAARABMAAgANAAEAAAARABQAAgANAAEAAAASABIAAgANAAEAAAASABMAAgANAAEAAAASABQAAgANAAEAAAATABIAAgANAAEAAAATABMAAgANAAEAAAATABQAAgANAAEAAAAAAAMAAgANAAEAAAAAAAQAAgANAAEAAAAAAAUAAgANAAEAAAAAAAYAAgANAAEAAAAAAAcAAgANAAEAAAAAAAgAAgANAAEAAAAAAAkAAgANAAEAAAAAAAoAAgANAAEAAAAAAAsAAgANAAEAAAAAAAwAAgANAAEAAAAAAA0AAgANAAEAAAAAAA4AAgANAAEAAAAAAA8AAgANAAEAAAAAABAAAgANAAEAAAABAAMAAgANAAEAAAABAAQAAgANAAEAAAABAAUAAgANAAEAAAABAAYAAgANAAEAAAABAAcAAgANAAEAAAABAAgAAgANAAEAAAABAAkAAgANAAEAAAABAAoAAgANAAEAAAABAAsAAgANAAEAAAABAAwAAgANAAEAAAABAA0AAgANAAEAAAABAA4AAgANAAEAAAABAA8AAgANAAEAAAABABAAAgANAAEAAAACAAMAAgANAAEAAAACAAQAAgANAAEAAAACAAUAAgANAAEAAAACAAYAAgANAAEAAAACAAcAAgANAAEAAAACAAgAAgANAAEAAAACAAkAAgANAAEAAAACAAoAAgANAAEAAAACAAsAAgANAAEAAAACAAwAAgANAAEAAAACAA0AAgANAAEAAAACAA4AAgANAAEAAAACAA8AAgANAAEAAAACABAAAgANAAEAAAADAAMAAgANAAEAAAADAAQAAgANAAEAAAADAAYAAgANAAAAAAADAAcAAgANAAEAAAADAAkAAgANAAEAAAADAAoAAgANAAEAAAADAAwAAgANAAAAAAADAA0AAgANAAEAAAADAA4AAgANAAEAAAADAA8AAgANAAEAAAADABAAAgANAAEAAAAEAAMAAgANAAEAAAAEAAYAAgANAAAAAAAEAAcAAgANAAEAAAAEAAoAAgANAAEAAAAEAA0AAgANAAAAAAAEAA4AAgANAAEAAAAEAA8AAgANAAEAAAAEABAAAgANAAEAAAAFAAMAAgANAAEAAAAFAAQAAgANAAEAAAAFAAUAAgANAAEAAAAFAAYAAgANAAEAAAAFAAcAAgANAAEAAAAFAAgAAgANAAEAAAAFAAkAAgANAAEAAAAFAAoAAgANAAEAAAAFAAsAAgANAAEAAAAFAAwAAgANAAEAAAAFAA0AAgANAAEAAAAFAA4AAgANAAEAAAAFAA8AAgANAAEAAAAFABAAAgANAAEAAAAGAAMAAgANAAEAAAAGAAoAAgANAAAAAAAGAAsAAgANAAEAAAAGAAwAAgANAAEAAAAGAA0AAgANAAEAAAAGAA4AAgANAAEAAAAGAA8AAgANAAEAAAAGABAAAgANAAEAAAAHAAsAAgANAAAAAAAHAAwAAgANAAEAAAAHAA0AAgANAAEAAAAHAA4AAgANAAEAAAAHAA8AAgANAAEAAAAHABAAAgANAAEAAAAIAAsAAgANAAAAAAAIAAwAAgANAAEAAAAIAA0AAgANAAEAAAAIAA4AAgANAAEAAAAIAA8AAgANAAEAAAAIABAAAgANAAEAAAAKAAsAAgANAAAAAAAKAAwAAgANAAEAAAAKAA0AAgANAAEAAAAKAA4AAgANAAEAAAAKAA8AAgANAAEAAAAKABAAAgANAAEAAAALAAsAAgANAAAAAAALAAwAAgANAAEAAAALAA0AAgANAAEAAAALAA4AAgANAAEAAAALAA8AAgANAAEAAAALABAAAgANAAEAAAAMAAMAAgANAAEAAAAMAAoAAgANAAAAAAAMAAsAAgANAAEAAAAMAAwAAgANAAEAAAAMAA0AAgANAAEAAAAMAA4AAgANAAEAAAAMAA8AAgANAAEAAAAMABAAAgANAAEAAAANAAMAAgANAAEAAAANAAQAAgANAAEAAAANAAUAAgANAAEAAAANAAYAAgANAAEAAAANAAcAAgANAAEAAAANAAgAAgANAAEAAAANAAkAAgANAAEAAAANAAoAAgANAAEAAAANAAsAAgANAAEAAAANAAwAAgANAAEAAAANAA0AAgANAAEAAAANAA4AAgANAAEAAAANAA8AAgANAAEAAAANABAAAgANAAEAAAAOAAMAAgANAAEAAAAOAAYAAgANAAAAAAAOAAcAAgANAAEAAAAOAAoAAgANAAEAAAAOAA0AAgANAAAAAAAOAA4AAgANAAEAAAAOAA8AAgANAAEAAAAOABAAAgANAAEAAAAPAAMAAgANAAEAAAAPAAQAAgANAAEAAAAPAAYAAgANAAAAAAAPAAcAAgANAAEAAAAPAAkAAgANAAEAAAAPAAoAAgANAAEAAAAPAAwAAgANAAAAAAAPAA0AAgANAAEAAAAPAA4AAgANAAEAAAAPAA8AAgANAAEAAAAPABAAAgANAAEAAAAQAAMAAgANAAEAAAAQAAQAAgANAAEAAAAQAAUAAgANAAEAAAAQAAYAAgANAAEAAAAQAAcAAgANAAEAAAAQAAgAAgANAAEAAAAQAAkAAgANAAEAAAAQAAoAAgANAAEAAAAQAAsAAgANAAEAAAAQAAwAAgANAAEAAAAQAA0AAgANAAEAAAAQAA4AAgANAAEAAAAQAA8AAgANAAEAAAAQABAAAgANAAEAAAARAAMAAgANAAEAAAARAAQAAgANAAEAAAARAAUAAgANAAEAAAARAAYAAgANAAEAAAARAAcAAgANAAEAAAARAAgAAgANAAEAAAARAAkAAgANAAEAAAARAAoAAgANAAEAAAARAAsAAgANAAEAAAARAAwAAgANAAEAAAARAA0AAgANAAEAAAARAA4AAgANAAEAAAARAA8AAgANAAEAAAARABAAAgANAAEAAAASAAMAAgANAAEAAAASAAQAAgANAAEAAAASAAUAAgANAAEAAAASAAYAAgANAAEAAAASAAcAAgANAAEAAAASAAgAAgANAAEAAAASAAkAAgANAAEAAAASAAoAAgANAAEAAAASAAsAAgANAAEAAAASAAwAAgANAAEAAAASAA0AAgANAAEAAAASAA4AAgANAAEAAAASAA8AAgANAAEAAAASABAAAgANAAEAAAATAAMAAgANAAEAAAATAAQAAgANAAEAAAATAAUAAgANAAEAAAATAAYAAgANAAEAAAATAAcAAgANAAEAAAATAAgAAgANAAEAAAATAAkAAgANAAEAAAATAAoAAgANAAEAAAATAAsAAgANAAEAAAATAAwAAgANAAEAAAATAA0AAgANAAEAAAATAA4AAgANAAEAAAATAA8AAgANAAEAAAATABAAAgANAAEAAAADAAgAAgANAAEAAAAEAAgAAgANAAEAAAAEAAkAAgANAAEAAAAGAAQAAgANAAEAAAAGAAUAAgANAAEAAAAGAAYAAgANAAEAAAAHAAMAAgANAAEAAAAHAAQAAgANAAEAAAAHAAUAAgANAAEAAAAIAAMAAgANAAEAAAAIAAQAAgANAAEAAAAIAAUAAgANAAEAAAAJAAMAAgANAAEAAAAJAAQAAgANAAEAAAAJAAUAAgANAAEAAAAKAAMAAgANAAEAAAAKAAQAAgANAAEAAAAKAAUAAgANAAEAAAALAAMAAgANAAEAAAALAAQAAgANAAEAAAALAAUAAgANAAEAAAAMAAQAAgANAAEAAAAMAAUAAgANAAEAAAAMAAYAAgANAAEAAAAOAAgAAgANAAEAAAAOAAkAAgANAAEAAAAPAAgAAgANAAEAAAAAAAAAAgANAAEAAAAAAAEAAgANAAEAAAAAAAIAAgANAAEAAAABAAAAAgANAAEAAAABAAEAAgANAAEAAAABAAIAAgANAAEAAAACAAAAAgANAAEAAAACAAEAAgANAAEAAAACAAIAAgANAAEAAAADAAAAAgANAAEAAAADAAEAAgANAAEAAAADAAIAAgANAAEAAAAEAAAAAgANAAEAAAAEAAEAAgANAAEAAAAEAAIAAgANAAEAAAAFAAAAAgANAAEAAAAFAAEAAgANAAEAAAAFAAIAAgANAAEAAAAGAAAAAgANAAEAAAAGAAEAAgANAAEAAAAGAAIAAgANAAEAAAAHAAAAAgANAAEAAAAHAAEAAgANAAEAAAAHAAIAAgANAAEAAAAIAAAAAgANAAEAAAAIAAEAAgANAAEAAAAIAAIAAgANAAEAAAAJAAAAAgANAAEAAAAJAAEAAgANAAEAAAAJAAIAAgANAAEAAAAKAAAAAgANAAEAAAAKAAEAAgANAAEAAAAKAAIAAgANAAEAAAALAAAAAgANAAEAAAALAAEAAgANAAEAAAALAAIAAgANAAEAAAAMAAAAAgANAAEAAAAMAAEAAgANAAEAAAAMAAIAAgANAAEAAAANAAAAAgANAAEAAAANAAEAAgANAAEAAAANAAIAAgANAAEAAAAOAAAAAgANAAEAAAAOAAEAAgANAAEAAAAOAAIAAgANAAEAAAAPAAAAAgANAAEAAAAPAAEAAgANAAEAAAAPAAIAAgANAAEAAAAQAAAAAgANAAEAAAAQAAEAAgANAAEAAAAQAAIAAgANAAEAAAARAAAAAgANAAEAAAARAAEAAgANAAEAAAARAAIAAgANAAEAAAASAAAAAgANAAEAAAASAAEAAgANAAEAAAASAAIAAgANAAEAAAATAAAAAgANAAEAAAATAAEAAgANAAEAAAATAAIAAgANAAEAAAA=")
tile_set = ExtResource("4_bxm07")
script = ExtResource("5_miesu")

[node name="Layer 1 (Ground)" type="TileMapLayer" parent="YSORT" unique_id=1502251809]
z_index = -2
use_parent_material = true
tile_map_data = PackedByteArray("AAAEAAQAAQADAAAAAAAEAAsAAQAHAAAAAAAGAAcAAQAAAAAAAAAGAAgAAQAAAAEAAAAHAAYAAQAAAAAAAAAHAAcAAQAGAAIAAAAHAAgAAQABAAEAAAAHAAkAAQAGAAEAAAAIAAYAAQABAAAAAAAIAAcAAQABAAEAAAAIAAgAAQABAAEAAAAIAAkAAQABAAEAAAAJAAYAAQABAAAAAAAJAAcAAQABAAEAAAAJAAgAAQABAAEAAAAJAAkAAQABAAEAAAAJAAoAAQAIAAEAAAAJAAsAAQADAAEAAAAJAAwAAQADAAEAAAAJAA0AAQADAAEAAAAJAA4AAQADAAEAAAAJAA8AAQADAAEAAAAJABAAAQADAAEAAAAJABEAAQADAAEAAAAJABIAAQADAAEAAAAJABMAAQADAAEAAAAKAAYAAQABAAAAAAAKAAcAAQABAAEAAAAKAAgAAQABAAEAAAAKAAkAAQABAAEAAAALAAYAAQACAAAAAAALAAcAAQAFAAIAAAALAAgAAQABAAEAAAALAAkAAQAFAAEAAAAMAAcAAQACAAAAAAAMAAgAAQACAAEAAAAOAAQAAQADAAAAAAAOAAsAAQAEAAAAAAADAAUAAQAAAAMAAAADAAsAAQAAAAMAAAAEAAUAAQAHAAMAAAAEAAwAAQADAAIAAAAGAAkAAQAAAAIAAAAHAAoAAQAAAAIAAAAIAAoAAQABAAIAAAAJABQAAQADAAEAAAAKAAoAAQABAAIAAAALAAoAAQACAAIAAAAMAAkAAQACAAIAAAAOAAUAAQAEAAMAAAAOAAwAAQADAAIAAAAPAAUAAQACAAMAAAAPAAsAAQACAAMAAAA=")
tile_set = ExtResource("4_bxm07")
script = ExtResource("7_gaquo")

[node name="Layer 2 (Path)" type="TileMapLayer" parent="YSORT" unique_id=822663588]
z_index = -1
use_parent_material = true
tile_map_data = PackedByteArray("AAAJAAcAAQAOAAAAAAAIAAcAAQANAAAAAAAIAAgAAQANAAEAAAAIAAkAAQANAAIAAAAJAAgAAQAOAAEAAAAJAAkAAQAVAAEAAAAJAAoAAQAQAAIAAAAKAAcAAQAPAAAAAAAKAAgAAQAPAAEAAAAKAAkAAQAPAAIAAAA=")
tile_set = ExtResource("4_bxm07")

[node name="Layer 3 (Buildings)" type="TileMapLayer" parent="YSORT" unique_id=1975915949]
tile_set = ExtResource("4_bxm07")

[node name="Layer 4 (Buildings 2)" type="TileMapLayer" parent="YSORT" unique_id=59439160]
tile_set = ExtResource("4_bxm07")

[node name="Layer 5 (Buildings 3)" type="TileMapLayer" parent="YSORT" unique_id=1537092979]
tile_set = ExtResource("4_bxm07")

[node name="Layer 6 (Entrances)" type="TileMapLayer" parent="YSORT" unique_id=251422737]
use_parent_material = true
tile_set = ExtResource("4_bxm07")

[node name="Layer 7 (Decorations)" type="TileMapLayer" parent="YSORT" unique_id=191116319]
y_sort_enabled = true
use_parent_material = true
tile_map_data = PackedByteArray("AAAEAAUAAgAFAA4AAAAEAAsAAgAFAA4AAAAOAAUAAgAFAA4AAAAOAAsAAgAFAA4AAAA=")
tile_set = ExtResource("4_bxm07")

[node name="Layer 8 (Decorations 2)" type="TileMapLayer" parent="YSORT" unique_id=1820831232]
y_sort_enabled = true
tile_map_data = PackedByteArray("AAAEAAUAAgANAAcAAAAEAAsAAgANAAYAAAAOAAUAAgANAAYAAAAOAAsAAgANAAcAAAA=")
tile_set = ExtResource("4_bxm07")

[node name="SpawnMarker" type="Marker2D" parent="YSORT" unique_id=2086111789]
position = Vector2(304, 333)

[node name="FloatingBox" parent="YSORT" unique_id=1931579315 instance=ExtResource("6_gaquo")]
position = Vector2(304, 268)
box_type = "red"
is_lost = true

[node name="PlayerSpawn" parent="YSORT" unique_id=339657820 instance=ExtResource("7_pfjc3")]
position = Vector2(304, 642)

[node name="DOORS" type="Node2D" parent="." unique_id=1509466002]

[node name="RuinsExit" parent="DOORS" unique_id=596399170 instance=ExtResource("8_jrebp")]
position = Vector2(304, 672)
level = "uid://q7qsgm6hg186"
target_transition_area = "RuinsIn1_c"
center_player = true
size = 1
side = 3

[node name="CameraManager" type="Node2D" parent="." unique_id=221588090 groups=["camera_managers"]]
script = ExtResource("9_qt17s")

[node name="MainCamera" type="Camera2D" parent="CameraManager" unique_id=1390054841]
position = Vector2(304, 262)
limit_left = 0
limit_top = 0
limit_right = 640
limit_bottom = 672
limit_smoothed = true
editor_draw_limits = true

[node name="AreaZone0" type="Area2D" parent="CameraManager" unique_id=722435612 groups=["camera_areas"]]
collision_layer = 8192
collision_mask = 2

[node name="CameraZone0" type="Marker2D" parent="CameraManager/AreaZone0" unique_id=1361319055 groups=["camera_markers"]]
position = Vector2(304, 496)

[node name="CollisionShape2D" type="CollisionShape2D" parent="CameraManager/AreaZone0" unique_id=1775151425]
position = Vector2(320, 554.5)
shape = SubResource("RectangleShape2D_ecjs2")
debug_color = Color(0, 0.751495, 1, 0)

[node name="AreaZone1" type="Area2D" parent="CameraManager" unique_id=46924795 groups=["camera_areas"]]
collision_layer = 8192
collision_mask = 2

[node name="CameraZone1" type="Marker2D" parent="CameraManager/AreaZone1" unique_id=1842303261 groups=["camera_markers"]]
position = Vector2(304, 262)

[node name="CollisionShape2D" type="CollisionShape2D" parent="CameraManager/AreaZone1" unique_id=1785041960 groups=["Persist"]]
position = Vector2(316, 226)
shape = SubResource("RectangleShape2D_cqfj1")
debug_color = Color(0, 0.752941, 1, 0)

[node name="Serializable" type="Node" parent="." unique_id=1839457127]
script = ExtResource("12_miesu")
transform = false
metadata/_custom_type_script = "uid://nmgti4nnwjet"

[node name="Savestate" type="Node" parent="." unique_id=1551844266]
script = ExtResource("13_gaquo")
metadata/_custom_type_script = "uid://b146xa42md0k3"
